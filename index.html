<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Calculate Environmental Predictability for Even and Uneven Time Series Data • envPred</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/yeti/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Calculate Environmental Predictability for Even and Uneven Time Series Data">
<meta property="og:description" content="Calculations to multiple components of environmental predictability.">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">envPred</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/example.html">General envPred usage</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/dbarneche/envPred/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="envpred-" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#envpred-" class="anchor"></a>envPred <img src="reference/figures/logo.png" width="150" alt="envPred Logo" align="right">
</h1></div>
<!-- badges: start -->

<p><code>envPred</code> is a package that calculates five “components” of environmental time series data: seasonality, the colour of environmental noise (hereafter <em>colour</em>), constancy, contingency and predictability.</p>
<p>Seasonality entails the regularity in the timing and magnitude of fluctuations in the average environmental state over seasons. Colour is defined by how predictable and similar the environment is between successive time points, or how far into the future the environmental state is likely to stay the same, independent of the mean environmental state. White noise occurs when there is no correlation between one measurement and the next, while for reddened noise, there is some correlation between measurements separated by a finite time-scale.</p>
<p>Seasonality and colour are calculated following the steps described in <a href="https://onlinelibrary.wiley.com/doi/abs/10.1111/geb.12748">Barneche et al. (2018)</a>. We first remove linear trends by extracting the residuals from a linear regression model fitted to the raw time series. Seasonality is then estimated as the fraction of the total variance that is due to predictable seasonal periodicities, <em>a</em>/(<em>a</em> + <em>b</em>), where <em>a</em> is the variance of the seasonal trend, and <em>b</em> is the variance of the residual time series (i.e. the time series after the seasonal trend was removed). The seasonal trend is estimated by binning the time-series data into monthly intervals, averaging each month across the duration of the time series, then re-creating a seasonal time-series dataset on the same time-scale as the original data using a linear interpolation between the monthly midpoints. To calculate colour, we first calculate a residual time series by subtracting the corresponding seasonal value from each data point in the time series. The spectral density (i.e. variance in the residual time series) was assumed to scale with frequency, <em>f</em>, according to an inverse power law, 1/<em>f</em><sup><em>θ</em></sup> (<a href="https://www.sciencedirect.com/science/article/pii/S0040580999914247">Halley &amp; Kunin, 1999</a>; <a href="https://esajournals.onlinelibrary.wiley.com/doi/10.1890/02-3122">Vasseur &amp; Yodzis, 2004</a>). The spectral exponent <em>θ</em> is then estimated as the negative slope of the linear regression of the natural log of spectral density as a function of the natural log of frequency. By definition, white noise means that <em>θ</em> = 0, and reddened noise means that <em>θ</em> &gt; 0. Spectral density is estimated using the <a href="https://www.rdocumentation.org/packages/stats/versions/3.6.2/topics/spectrum">spectrum</a> function from the <a href="https://www.rdocumentation.org/packages/stats/versions/3.6.2">stats</a> R package if the time series is evenly distributed, and the Lomb–Scargle function <a href="https://www.rdocumentation.org/packages/lomb/versions/1.2/topics/lsp">lsp</a> from the <a href="https://www.rdocumentation.org/packages/lomb/versions/1.2">lomb</a> R package if the time series is unevenly distributed (<a href="https://academic.oup.com/bioinformatics/article/22/3/310/220284">Glynn et al. 2006</a>).</p>
<p>Constancy, contingency and predictability are calculated following <a href="http://onlinelibrary.wiley.com/doi/10.2307/1940366/">Colwell (1974)</a>. Constancy measures the extent to which the environment is the same for all months in all years. Contingency measures the extent to which the environmental differences between months are the same in all years. Predictability is the sum of constancy and contingency. Maximum predictability can be attained as a consequence of either complete constancy, complete contingency, or a combination of constancy and contingency.</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>The <code>envPred</code> package can be installed from GitHub using the <a href="https://CRAN.R-project.org/package=devtools"><code>devtools</code></a> package using <code>devtools::install_github</code>.</p>
<p>If you do not yet have <code>devtools</code>, install with <code><a href="https://rdrr.io/r/utils/install.packages.html">install.packages("devtools")</a></code>.</p>
<p>Then install <code>envPred</code> using the following:<br><code>library(devtools)</code><br><code>install_github("dbarneche/envPred")</code><br><code><a href="https://github.com/dbarneche/envPred">library(envPred)</a></code></p>
</div>
<div id="available-data-sources-in-envpred" class="section level2">
<h2 class="hasAnchor">
<a href="#available-data-sources-in-envpred" class="anchor"></a>Available data sources in envPred</h2>
<p><code>envPred</code> provides two test datasets for the user to understand the behaviour and output of package functions: sst (Sea Surface Temperature), and npp (ocean Net Primary Productivity). The former contains evenly, complete distributed data at a daily interval; the latter contains unevenly, incomplete (i.e. missing data) data. Both sample datasets were obtained from a random coordinate using the <a href="https://github.com/dbarneche/noaaErddap/">noaaErddap</a> R package:</p>
<ul>
<li><a href="http://coastwatch.pfeg.noaa.gov/erddap/griddap/erdPPbfp18day.html">Net Primary Productivity (NPP) data</a></li>
<li><a href="http://www.esrl.noaa.gov/psd/data/gridded/data.noaa.oisst.v2.highres.html">Sea Surface Temperature (SST)</a></li>
</ul>
<p>The package can be used for any time series data, e.g. temperature, rainfall, light intensity, etc.</p>
</div>
<div id="authors" class="section level2">
<h2 class="hasAnchor">
<a href="#authors" class="anchor"></a>Authors</h2>
<p>Dr. Diego Barneche (Australian Institute of Marine Science) and Dr. Scott Burgess (Florida State University Tallahassee)</p>
</div>
<div id="further-information" class="section level2">
<h2 class="hasAnchor">
<a href="#further-information" class="anchor"></a>Further Information</h2>
<p>Further information about <code>envPred</code>, including vignettes and help files, can be seen on the on-line <a href="https://dbarneche.github.io/envPred">project page</a>.</p>
<p>This R package is provided for use under the MIT License (<a href="http://opensource.org/licenses/MIT">MIT</a>) by the authors.</p>
</div>
<div id="bug-reporting" class="section level2">
<h2 class="hasAnchor">
<a href="#bug-reporting" class="anchor"></a>Bug reporting</h2>
<p>Please <a href="https://github.com/dbarneche/envPred/issues">report any issues or bugs</a>.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/dbarneche/envPred/">https://​github.com/​dbarneche/​envPred/​</a>
</li>
<li>Report a bug at <br><a href="https://github.com/dbarneche/envPred/issues">https://​github.com/​dbarneche/​envPred/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Diego Barneche <br><small class="roles"> Author, maintainer </small>  </li>
<li>Scott Burgess <br><small class="roles"> Author </small>  </li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://www.tidyverse.org/lifecycle/#maturing"><img src="https://img.shields.io/badge/lifecycle-maturing-blue.svg" alt="lifecycle"></a></li>
<li><a href="https://github.com/dbarneche/envPred/actions"><img src="https://github.com/dbarneche/envPred/workflows/R-CMD-check/badge.svg" alt="R build status"></a></li>
<li><a href="https://travis-ci.org/dbarneche/envPred"><img src="http://badges.herokuapp.com/travis/dbarneche/envPred?branch=master&amp;env=BUILD_NAME=trusty_release&amp;label=linux" alt="Travis-CI Build Status"></a></li>
<li><a href="https://travis-ci.org/dbarneche/envPred"><img src="http://badges.herokuapp.com/travis/dbarneche/envPred?branch=master&amp;env=BUILD_NAME=osx_release&amp;label=osx" alt="Build Status"></a></li>
<li><a href="https://codecov.io/gh/dbarneche/envPred?branch=master"><img src="https://codecov.io/gh/dbarneche/envPred/branch/master/graph/badge.svg" alt="Codecov test coverage"></a></li>
<li><a href="https://ci.appveyor.com/project/dbarneche/envPred"><img src="https://ci.appveyor.com/api/projects/status/github/dbarneche/envPred?branch=master&amp;svg=true" alt="AppVeyor build status"></a></li>
<li><a href="commits/master"><img src="https://img.shields.io/badge/Package%20version-1.0.1-orange.svg" alt="packageversion"></a></li>
<li><a href="https://choosealicense.com/"><img src="https://img.shields.io/badge/license-MIT%20+%20file%20LICENSE-lightgrey.svg" alt="license"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by Diego Barneche, Scott Burgess.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.9000.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
